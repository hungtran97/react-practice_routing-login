(this["webpackJsonpreact-practice_routing-login"]=this["webpackJsonpreact-practice_routing-login"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(18),i=a.n(c),r=(a(41),a(6)),o=a(14),l=a(15),j=a(13),h=a(17),d=a(16),b=a(35),u=a(7),O=a(62),m=a(56),g=a(57),v=a(32),p=a(58),x=a(61),f=a(59),y=(a(42),a.p+"static/media/avatar.f4eb2a3e.jpeg"),C=a(3),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s,n;return Object(o.a)(this,a),(n=t.call(this,e)).state={email:null!==(s=localStorage.getItem("email"))&&void 0!==s?s:"",file:null,fileUrl:""},n.changeAvatar=n.changeAvatar.bind(Object(j.a)(n)),n.logout=n.logout.bind(Object(j.a)(n)),n}return Object(l.a)(a,[{key:"changeAvatar",value:function(e){var t=this,a=new FileReader,s=e[0];a.readAsDataURL(s),a.onloadend=function(){t.setState(Object(r.a)(Object(r.a)({},t.state),{},{file:s,fileUrl:a.result}))}}},{key:"logout",value:function(){this.setState(Object(r.a)(Object(r.a)({},this.state),{},{email:""})),this.props.setToast({type:"success",message:"Logout Successfully!"}),localStorage.setItem("email","")}},{key:"render",value:function(){var e=this;return localStorage.getItem("email")?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:" Home "}),Object(C.jsx)(O.a,{className:"home",children:Object(C.jsx)(O.a.Body,{children:Object(C.jsxs)(m.a,{children:[Object(C.jsxs)(g.a,{children:[Object(C.jsx)(v.a,{md:"12",children:Object(C.jsx)(p.a,{style:{overflow:"hidden",maxHeight:"100px"},src:this.state.fileUrl?this.state.fileUrl:y,roundedCircle:!0})}),Object(C.jsx)(v.a,{md:"12",children:Object(C.jsx)(x.a,{children:Object(C.jsx)(x.a.Group,{className:"avatar-select",children:Object(C.jsx)("input",{name:"avatar",type:"file",onChange:function(t){return e.changeAvatar(t.target.files)}})})})})]}),Object(C.jsx)(g.a,{children:Object(C.jsx)(v.a,{md:"12",children:localStorage.getItem("email")})}),Object(C.jsx)(g.a,{children:Object(C.jsx)(v.a,{md:"12",children:Object(C.jsx)(f.a,{size:"sm",onClick:function(t){return e.logout()},children:"Logout"})})})]})})})]}):Object(C.jsx)(u.a,{to:"/login"})}}]),a}(n.a.Component),k=a(19),w=(a(50),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={email:"",password:"",remember:!1,validator:{email:"",password:""},isLoggedIn:!1},s.handleChange=s.handleChange.bind(Object(j.a)(s)),s.onSubmit=s.onSubmit.bind(Object(j.a)(s)),s.validated=s.validated.bind(Object(j.a)(s)),s}return Object(l.a)(a,[{key:"handleChange",value:function(e){if("email"===e.target.name){var t="";/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[A-Za-z]+$/.test(e.target.value)||(t="Email invalid format!"),this.setState(Object(r.a)(Object(r.a)({},this.state),{},{email:e.target.value,validator:Object(r.a)(Object(r.a)({},this.state.validator),{},{email:t})}))}else this.setState(Object(r.a)(Object(r.a)({},this.state),{},Object(k.a)({},e.target.name,e.target.value)))}},{key:"handleCheck",value:function(e){this.setState(Object(r.a)(Object(r.a)({},this.state),{},Object(k.a)({},e.target.name,e.currentTarget.checked)))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.validated()?(this.props.setToast({type:"success",message:"Login Successfully!"}),this.setState(Object(r.a)(Object(r.a)({},this.state),{},{isLoggedIn:!0})),localStorage.setItem("email",this.state.email)):this.props.setToast({type:"danger",message:"Login Error!"})}},{key:"validated",value:function(){return"admin@ows.vn"!==this.state.email||"ows"!==this.state.password?(this.setState(Object(r.a)(Object(r.a)({},this.state),{},{validator:Object(r.a)(Object(r.a)({},this.state.validator),{},{password:"Email or Password invalid!"})})),console.log(this.state),!1):(this.setState(Object(r.a)(Object(r.a)({},this.state),{},{validator:Object(r.a)(Object(r.a)({},this.state.validator),{},{password:""})})),console.log(this.state),!0)}},{key:"render",value:function(){return this.state.isLoggedIn?Object(C.jsx)(u.a,{to:"/home"}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h1",{children:" Login "}),Object(C.jsx)(O.a,{className:"form-login",children:Object(C.jsx)(O.a.Body,{children:Object(C.jsxs)(x.a,{onSubmit:this.onSubmit,children:[Object(C.jsxs)(x.a.Group,{controlId:"email",children:[Object(C.jsx)(x.a.Label,{children:" Email "}),Object(C.jsx)(x.a.Control,{type:"text",name:"email",value:this.state.email,placeholder:"admin@ows.vn",onChange:this.handleChange}),Object(C.jsx)(x.a.Text,{className:"text-danger",children:this.state.validator.email})]}),Object(C.jsxs)(x.a.Group,{controlId:"password",children:[Object(C.jsx)(x.a.Label,{children:" Password "}),Object(C.jsx)(x.a.Control,{type:"password",name:"password",value:this.state.password,placeholder:"ows",onChange:this.handleChange}),Object(C.jsx)(x.a.Text,{className:"text-danger",children:this.state.validator.password})]}),Object(C.jsx)(x.a.Group,{controlId:"remember",children:Object(C.jsx)(x.a.Check,{type:"checkbox",name:"remember",checked:this.state.remember,onChange:this.handleCheck,label:"remember me?"})}),Object(C.jsx)(f.a,{variant:"primary",type:"submit",children:"Login"})]})})})]})}}]),a}(n.a.Component)),T=a(60),I=(a(51),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),s=t.call(this,e),console.log(e),s}return Object(l.a)(a,[{key:"render",value:function(){return Object(C.jsx)("div",{className:"custom-toast",children:Object(C.jsx)(T.a,{variant:this.props.toast.type,children:this.props.toast.message})})}}]),a}(n.a.Component)),L=(a(52),function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state={loggedIn:!1,toast:{type:"",message:""}},s.setToast=s.setToast.bind(Object(j.a)(s)),s}return Object(l.a)(a,[{key:"setToast",value:function(e){console.log(this.state),this.setState(Object(r.a)(Object(r.a)({},this.state),{},{toast:e}))}},{key:"render",value:function(){return Object(C.jsxs)("div",{className:"App",children:[Object(C.jsx)(I,{toast:this.state.toast}),Object(C.jsx)(b.a,{children:Object(C.jsxs)(u.d,{children:[Object(C.jsx)(u.b,{path:"/login",children:Object(C.jsx)(w,{setToast:this.setToast})}),Object(C.jsx)(u.b,{path:"/",children:Object(C.jsx)(S,{setToast:this.setToast})})]})})]})}}]),a}(n.a.Component)),A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};a(53);i.a.render(Object(C.jsx)(n.a.StrictMode,{children:Object(C.jsx)(L,{})}),document.getElementById("root")),A()}},[[54,1,2]]]);
//# sourceMappingURL=main.ede91513.chunk.js.map